<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chasse √† l'Objet Ultime (50 D√©fis) - Paris Cibl√©e</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f9;
            color: #333;
        }
        header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 3px solid #6c757d; 
            margin-bottom: 30px;
        }
        h1 {
            color: #6c757d;
            font-size: 2em;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        .challenges, .scores {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .challenges {
            flex: 2;
            min-width: 450px;
        }
        .scores {
            flex: 1;
            min-width: 300px;
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #ccc;
            padding-bottom: 10px;
            margin-top: 0;
        }
        .challenge-list {
            list-style: none;
            padding: 0;
        }
        .challenge-list li {
            padding: 8px 0;
            border-bottom: 1px dotted #eee;
        }
        .challenge-list li:last-child {
            border-bottom: none;
        }
        .zone-header {
            background-color: #e9ecef;
            color: #495057;
            padding: 8px 10px;
            margin: 15px 0 5px 0;
            border-radius: 4px;
            font-weight: bold;
            font-size: 1.1em;
        }
        .fun-challenge {
            color: #17a2b8; /* Couleur pour les d√©fis fun */
        }

        /* Score Table Styling */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            margin-bottom: 20px;
        }
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #6c757d;
            color: white;
            text-transform: uppercase;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
        
        .map-container {
            margin-top: 30px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        #map {
            height: 400px;
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        /* Bouton de t√©l√©chargement */
        #download-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #download-btn:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>

    <header>
        <h1>üèÜ 50 D√©fis d'Observation Ultime √† Paris ! ü•≥</h1>
        <p>Les 30 d√©fis initiaux + 20 d√©fis "Fun" pour le plaisir de l'observation.</p>
    </header>

    <div class="container">
        <div class="challenges">
            <h2>üîé Liste des Objets √† Trouver (50)</h2>
            <ul class="challenge-list">
                
                <li class="zone-header">1. üá´üá∑ Quartier Latin & √éle de la Cit√© (L'Acad√©mique et l'Ancien)</li>
                <li>**A1.** Un **"H" de l'ancien H√¥pital** inscrit en relief sur une fa√ßade.</li>
                <li>**A2.** Une **plaque de rue √©maill√©e (bleue)** portant le nom d'un personnage historique f√©minin.</li>
                <li>**B1.** Une **fen√™tre en forme de livre ouvert** sur la fa√ßade d'une librairie ou ancienne √©cole.</li>
                <li>**B2.** Une **pompe √† eau publique (Fontaine Wallace)** surmont√©e de ses quatre cariatides.</li>
                <li>**B3.** Une **cha√Æne de trottoir en fonte** encore visible, d√©limitant un espace pi√©ton.</li>
                <li>**B4.** Un **panneau de "sens interdit"** masqu√© √† moiti√© par de la v√©g√©tation.</li>
                <li class="fun-challenge">**F1.** Un **livre** dont le titre contient le mot "Amour".</li>
                <li class="fun-challenge">**F2.** Une **plante** qui pousse sur un toit ou dans une goutti√®re.</li>
                <li class="fun-challenge">**F3.** Une affiche ou un tableau avec un **chat** (dans une fen√™tre ou une boutique).</li>
                <li class="fun-challenge">**F4.** Un **scooter** dont le casque est attach√© √† l'ext√©rieur.</li>

                <li class="zone-header">2. üõçÔ∏è Grands Boulevards & Op√©ra (Le Consommable et le Kitsch)</li>
                <li>**A3.** Une **affiche de th√©√¢tre/spectacle** dont le titre est enti√®rement en capitales **et** qui est d√©chir√©e.</li>
                <li>**A4.** Un **panier de plage en osier** expos√© dans une vitrine de pr√™t-√†-porter de luxe.</li>
                <li>**D1.** Une **baguette de pain traditionnelle** qui mesure visiblement moins de 55 cm.</li>
                <li>**D2.** Un **extincteur rouge** dans une boutique, dont la date de v√©rification est expir√©e (si visible).</li>
                <li>**D3.** Un **fruit ou l√©gume pr√©sent√© seul** (sans autres de la m√™me esp√®ce) dans une boutique de luxe.</li>
                <li>**D6.** Un **mannequin portant des lunettes de soleil** √† l'int√©rieur d'un magasin.</li>
                <li class="fun-challenge">**F5.** Une **publicit√© de parfum** o√π le mod√®le a les yeux ferm√©s.</li>
                <li class="fun-challenge">**F6.** Une personne portant √† la fois des **sandales et des chaussettes**.</li>
                <li class="fun-challenge">**F7.** Une part de **pizza** dont le pepperoni (ou jambon) est tomb√© sur le carton/assiette.</li>
                <li class="fun-challenge">**F8.** Une **√©tiquette de prix** se terminant par **,99 ‚Ç¨** et qui est **barr√©e**.</li>

                <li class="zone-header">3. üèûÔ∏è Quais de Seine & Les Jardins (Le Naturel et le Vagabond)</li>
                <li>**A5.** Un **pigeon buvant de l'eau d'une flaque** ou d'une fontaine (preuve d'un contact avec l'eau).</li>
                <li>**C3.** Un **bateau-mouche/p√©niche** dont le nom est un pr√©nom f√©minin.</li>
                <li>**C4.** Un **cadenas d'amour** laiss√© sur un pont portant l'inscription d'un nom de ville √©trang√®re.</li>
                <li>**C5.** Une **feuille d'arbre rouge vif** tomb√©e sur un livre d'occasion chez un bouquiniste.</li>
                <li>**E2.** Un **banc public vert** dont l'une des lattes est cass√©e ou manquante.</li>
                <li>**E4.** Une **morsure de chien** visible sur le bas d'un poteau en bois ou d'une poubelle. </li>
                <li class="fun-challenge">**F9.** Un **chien** tenu en laisse qui porte un v√™tement.</li>
                <li class="fun-challenge">**F10.** Un **objet non comestible** (jouet, caillou) flottant dans une fontaine.</li>
                <li class="fun-challenge">**F11.** Une **√©corce d'arbre** qui ressemble clairement √† un visage humain.</li>
                <li class="fun-challenge">**F12.** Une **canette de boisson √©nerg√©tique** laiss√©e sur un banc public.</li>

                <li class="zone-header">4. üèòÔ∏è Montmartre & Buttes-Chaumont (L'Artisanat et l'Insoumis)</li>
                <li>**A6.** Un **vieux panneau de signalisation en m√©tal** (pas en plastique) indiquant une rue, fix√© tr√®s haut sur un mur.</li>
                <li>**B5.** Un **escalier public en pierre** (pas en bois ou m√©tal) dont le nombre de marches est impair.</li>
                <li>**B6.** Une **gargouille ou une sculpture animale** sur une fa√ßade qui n'est pas une √©glise.</li>
                <li>**D4.** Une **craie de couleur** (rouge, jaune, bleu...) laiss√©e sur le trottoir par un artiste de rue.</li>
                <li>**D5.** Un **portrait caricatural** d'un c√©l√®bre personnage politique fran√ßais expos√© en vitrine d'une galerie.</li>
                <li>**E5.** Une **bo√Æte aux lettres de La Poste** dont le syst√®me d'ouverture est visiblement cass√© ou tordu.</li>
                <li class="fun-challenge">**F13.** Un **artiste de rue** en train de dessiner un pigeon ou un chien.</li>
                <li class="fun-challenge">**F14.** Une paire de **chaussures de randonn√©e** suspendues ou oubli√©es quelque part.</li>
                <li class="fun-challenge">**F15.** Une **bo√Æte aux lettres** avec un num√©ro d'appartement ou un nom √©crit au Tipp-Ex.</li>
                <li class="fun-challenge">**F16.** Un **panneau d'interdiction de stationner** compl√®tement recouvert d'autocollants.</li>

                <li class="zone-header">5. ‚öôÔ∏è Les Quartiers du 10√®me/11√®me Arrondissement (Le Populaire et le D√©cal√©)</li>
                <li>**C1.** Un **v√©lo dont les deux pneus sont crev√©s** (preuve visible : pneus √† plat) attach√© √† un poteau.</li>
                <li>**C2.** Un **ticket de m√©tro perfor√©** (ancienne g√©n√©ration) sur le sol.</li>
                <li>**C6.** Une **voiture** portant au moins 3 traces d'√©raflures ou de chocs distincts.</li>
                <li>**E1.** Le **haut d'un arbre coup√©** (la souche) utilis√© comme support pour un cendrier improvis√©.</li>
                <li>**E3.** Une **"porte magique"** : une petite porte de service sans poign√©e ni fen√™tre, peinte de la m√™me couleur que le mur.</li>
                <li>**E6.** Une **feuille de papier "Recherche chat perdu"** affich√©e sur un panneau d'affichage.</li>
                <li class="fun-challenge">**F17.** Un **r√©troviseur de voiture** o√π l'on voit clairement un objet amusant accroch√© (d√©sodorisant, bibelot, etc.).</li>
                <li class="fun-challenge">**F18.** Une annonce **"cherche colocataire"** affich√©e sur un tableau ou une porte.</li>
                <li class="fun-challenge">**F19.** Un **jouet d'enfant** (pas cass√©) laiss√© seul sur un trottoir.</li>
                <li class="fun-challenge">**F20.** Une personne en terrasse mangeant des **frites avec des couverts**.</li>
            </ul>
        </div>

        <div class="scores">
            <h2>üìù Tableau des Scores</h2>
            <table id="score-table">
                <thead>
                    <tr>
                        <th>D√©fi</th>
                        <th>Vous</th>
                        <th>Votre Copine</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
                <tfoot>
                    <tr>
                        <th>Total</th>
                        <th id="total-moi">0</th>
                        <th id="total-copine">0</th>
                    </tr>
                </tfoot>
            </table>
            <button id="download-btn" onclick="downloadScores()">T√©l√©charger les Scores (TXT)</button>
        </div>
    </div>

    <div class="map-container">
        <h2>üó∫Ô∏è Zone de Recherche Cibl√©e</h2>
        <p>La zone d√©limit√©e couvre les arrondissements centraux et limitrophes (50 d√©fis √† chercher !).</p>
        <div id="map"></div>
    </div>

    <script>
        // Variables globales pour stocker les totaux de score
        let currentScoreMoi = 0;
        let currentScoreCopine = 0;

        // Liste des IDs de d√©fis (MAJ √† 50)
        const challengeIds = [
            'A1', 'A2', 'B1', 'B2', 'B3', 'B4', 'F1', 'F2', 'F3', 'F4',
            'A3', 'A4', 'D1', 'D2', 'D3', 'D6', 'F5', 'F6', 'F7', 'F8',
            'A5', 'C3', 'C4', 'C5', 'E2', 'E4', 'F9', 'F10', 'F11', 'F12',
            'A6', 'B5', 'B6', 'D4', 'D5', 'E5', 'F13', 'F14', 'F15', 'F16',
            'C1', 'C2', 'C6', 'E1', 'E3', 'E6', 'F17', 'F18', 'F19', 'F20'
        ];

        const scoreTableBody = document.querySelector('#score-table tbody');
        const totalMoi = document.getElementById('total-moi');
        const totalCopine = document.getElementById('total-copine');

        // G√©n√©rer les lignes du tableau de score
        challengeIds.forEach(id => {
            const row = scoreTableBody.insertRow();
            row.innerHTML = `
                <td>${id}</td>
                <td><input type="checkbox" data-joueur="moi" data-id="${id}" onchange="calculateScore()"></td>
                <td><input type="checkbox" data-joueur="copine" data-id="${id}" onchange="calculateScore()"></td>
            `;
        });

        // Fonction pour calculer les scores
        function calculateScore() {
            const checkboxesMoi = document.querySelectorAll('input[data-joueur="moi"]:checked');
            const checkboxesCopine = document.querySelectorAll('input[data-joueur="copine"]:checked');

            currentScoreMoi = checkboxesMoi.length;
            currentScoreCopine = checkboxesCopine.length;

            totalMoi.textContent = currentScoreMoi;
            totalCopine.textContent = currentScoreCopine;
        }

        // --- Fonction pour t√©l√©charger les scores ---
        function downloadScores() {
            const date = new Date().toLocaleDateString('fr-FR');
            let content = `--- RESULTATS CHASSE A L'OBJET ULTIME PARIS (50 d√©fis) ---\n`;
            content += `Date de la partie : ${date}\n\n`;
            
            // R√©cup√©rer le contenu d√©taill√© du tableau
            const table = document.getElementById('score-table');
            content += 'D√©fi\tVous\tVotre Copine\n';
            
            // Lignes de score (D√©tail)
            const rows = table.querySelectorAll('tbody tr');
            rows.forEach(row => {
                const id = row.querySelector('td').textContent;
                const checkMoi = row.querySelector('input[data-joueur="moi"]').checked ? 'X' : '';
                const checkCopine = row.querySelector('input[data-joueur="copine"]').checked ? 'X' : '';
                content += `${id}\t${checkMoi}\t${checkCopine}\n`;
            });
            
            // Totaux
            content += `\n--- TOTAUX ---\n`;
            content += `Total trouv√© par VOUS : ${currentScoreMoi} / ${challengeIds.length}\n`;
            content += `Total trouv√© par VOTRE COPINE : ${currentScoreCopine} / ${challengeIds.length}\n\n`;

            if (currentScoreMoi > currentScoreCopine) {
                content += `F√âLICITATIONS ! VOUS avez gagn√© la partie (${currentScoreMoi} √† ${currentScoreCopine}) !\n`;
            } else if (currentScoreCopine > currentScoreMoi) {
                content += `F√âLICITATIONS ! VOTRE COPINE a gagn√© la partie (${currentScoreCopine} √† ${currentScoreMoi}) !\n`;
            } else {
                content += `√âGALIT√â ! Quel beau travail d'√©quipe (${currentScoreMoi} partout) !\n`;
            }

            // Cr√©er le fichier Blob et le lien de t√©l√©chargement
            const filename = `Scores_Chasse_Ultimate_Paris_${date.replace(/\//g, '-')}.txt`;
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
        
        // --- Configuration de Google Maps ---
        function initMap() {
            const parisCenter = { lat: 48.86, lng: 2.34 }; 
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 12, 
                center: parisCenter,
                gestureHandling: "cooperative"
            });

            const areaCoords = [
                { lat: 48.885, lng: 2.30 },
                { lat: 48.90, lng: 2.35 },
                { lat: 48.885, lng: 2.39 },
                { lat: 48.85, lng: 2.40 },
                { lat: 48.835, lng: 2.38 },
                { lat: 48.82, lng: 2.32 },
                { lat: 48.84, lng: 2.27 },
                { lat: 48.885, lng: 2.30 }
            ];

            const searchPolygon = new google.maps.Polygon({
                paths: areaCoords,
                strokeColor: "#6c757d",
                strokeOpacity: 0.8,
                strokeWeight: 2,
                fillColor: "#6c757d",
                fillOpacity: 0.15,
            });

            searchPolygon.setMap(map);
            
            new google.maps.Marker({
                position: parisCenter,
                map: map,
                title: "Paris Central (Zone de la Chasse)"
            });
        }
    </script>
    
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=VOTRE_CLE_API_GOOGLE_MAPS&callback=initMap">
    </script>
</body>
</html>
